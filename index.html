<!doctype html>
<html lang="si">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>VIJAYABA N.S. HUNGAMA ‚Äî Official</title>
<link rel="icon" href="https://files.catbox.moe/5vmpv6.jpg" />
<style>
:root{
  --bg:#f8fafc; --card:#ffffff; --muted:#6b7280; --accent:#059669;
  --glass:rgba(255,255,255,0.86); --radius:14px; --shadow:0 14px 40px rgba(2,6,23,0.08);
  --text:#0f172a;
}
[data-theme='dark']{ --bg:#061026; --card:#071726; --muted:#9aa6b2; --accent:#34d399; --text:#e6eef6; --glass:rgba(8,10,14,0.6); }
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial;background:var(--bg);color:var(--text);-webkit-font-smoothing:antialiased;overflow-x:hidden}
a{color:inherit;text-decoration:none}

/* SHIFT RIGHT on wide screens (user requested) */
@media(min-width:900px){
  body{transform:translateX(3%);transition:transform .3s ease}
}
@media(max-width:899px){
  body{transform:none}
}

/* Header - full width background, inner centered content */
header.sitebar{
  width:100%; padding:12px 0; position:sticky; top:0; z-index:1200;
  background:linear-gradient(180deg,rgba(255,255,255,0.98),rgba(255,255,255,0.92));
  box-shadow:0 8px 30px rgba(2,6,23,0.04);
}
[data-theme='dark'] header.sitebar{background:linear-gradient(180deg,rgba(6,10,14,0.95),rgba(6,10,14,0.9))}
.header-inner{max-width:1200px;margin:0 auto;padding:0 18px;display:flex;align-items:center;justify-content:space-between}
.brand{display:flex;gap:12px;align-items:center}
.logo-small{width:56px;height:56px;border-radius:12px;overflow:hidden;box-shadow:var(--shadow);background:var(--card)}
.logo-small img{width:100%;height:100%;object-fit:cover}
.brand h1{font-size:18px;margin:0}
.brand p{margin:0;font-size:12px;color:var(--muted)}

/* top actions */
.top-actions{display:flex;align-items:center;gap:10px}
.theme-toggle{padding:8px;border-radius:10px;background:var(--card);cursor:pointer;border:1px solid rgba(0,0,0,0.04)}
.menu-icon{width:42px;height:42px;border-radius:10px;display:flex;align-items:center;justify-content:center;cursor:pointer;background:var(--card);box-shadow:var(--shadow)}
.menu-icon .lines{display:flex;flex-direction:column;gap:4px}
.menu-icon .lines span{width:18px;height:2px;background:var(--text);border-radius:3px;display:block}

/* dropdown menu */
.menu-panel{position:fixed;right:18px;top:70px;background:var(--card);padding:8px;border-radius:10px;box-shadow:var(--shadow);display:none;flex-direction:column;gap:6px;z-index:1300}
.menu-panel a{padding:8px 12px;border-radius:8px;font-weight:700;color:var(--text);display:block}
.menu-panel a:hover{background:rgba(0,0,0,0.04)}

/* intro */
#intro{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#071226 0%, #021020 100%);z-index:10000;flex-direction:column;color:white}
.intro-card{width:86%;max-width:620px;text-align:center;padding:28px;border-radius:18px;background:linear-gradient(180deg,rgba(255,255,255,0.06),rgba(255,255,255,0.02))}
.intro-logo{width:160px;height:160px;border-radius:14px;overflow:hidden;margin:0 auto 14px}
.intro-logo img{width:100%;height:100%;object-fit:cover}
.intro-text{font-weight:800;font-size:20px;margin-bottom:14px}
.progress{height:12px;background:rgba(255,255,255,0.12);border-radius:999px;overflow:hidden}
.progress-bar{height:100%;width:0%;background:linear-gradient(90deg,#34d399,#10b981);transition:width .18s linear}

/* main content wrapper (soft side padding) */
main{max-width:1200px;margin:0 auto;padding:18px}
@media(max-width:480px){ main{padding:12px} }

/* hero */
.hero{display:flex;gap:18px;align-items:start;flex-wrap:wrap;margin-top:6px}
.hero-left{flex:1;min-width:260px}
.headline{font-size:30px;line-height:1.02;font-weight:800;margin:0}
.sub{color:var(--muted);margin-top:10px;max-width:60ch}

/* stats */
.stats{display:flex;gap:12px;margin-top:14px;flex-wrap:wrap}
.stat{background:var(--card);padding:12px;border-radius:12px;box-shadow:var(--shadow);min-width:120px}
.stat .label{font-size:12px;color:var(--muted)}
.stat .value{font-weight:800}

/* floating hero (right) */
.floating{width:320px;border-radius:14px;padding:12px;background:linear-gradient(180deg,var(--card),#f7fafb);box-shadow:var(--shadow);display:flex;flex-direction:column;align-items:center;gap:10px}
@media(max-width:980px){ .floating{width:100%} }
.floating .logo{width:160px;height:160px;border-radius:12px;overflow:hidden}
.floating .logo img{width:100%;height:100%;object-fit:cover;animation:spin3d 20s linear infinite}
@keyframes spin3d{0%{transform:rotateY(0)}100%{transform:rotateY(360deg)}}

/* details */
.details{margin-top:18px;background:var(--card);padding:16px;border-radius:12px;box-shadow:var(--shadow)}
.details .row{display:flex;gap:12px;align-items:flex-start;padding:6px 0}
.details .label{min-width:110px;font-weight:700;color:var(--muted)}

/* map */
.map{margin-top:12px;border-radius:12px;overflow:hidden;border:1px solid rgba(0,0,0,0.04)}

/* media grid */
.media-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:16px;margin-top:18px}
@media(max-width:900px){ .media-grid{grid-template-columns:1fr} }
.media-card{background:var(--card);border-radius:12px;overflow:hidden;box-shadow:var(--shadow);display:flex;flex-direction:column}<script>
  // Get elements
  const creatorBtn = document.getElementById("creatorBtn");
  const creatorPopup = document.getElementById("creatorPopup");
  const closeCreator = document.getElementById("closeCreator");

  // When user clicks Creator tab
  creatorBtn.addEventListener("click", (e) => {
    e.preventDefault();
    creatorPopup.style.display = "flex";
  });

  // When user clicks close button
  closeCreator.addEventListener("click", () => {
    creatorPopup.style.display = "none";
  });

  // Optional: click outside to close
  window.addEventListener("click", (e) => {
    if (e.target === creatorPopup) {
      creatorPopup.style.display = "none";
    }
  });
</script>
.media-card video,.media-card img{width:100%;height:420px;object-fit:cover;background:#000}
@media(max-width:700px){ .media-card video,.media-card img{height:220px} }
.media-caption{padding:12px;color:var(--muted)}

/* viewer fullscreen */
#viewer{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.9);z-index:1400;align-items:center;justify-content:center;padding:14px}
#viewer .inner{position:relative;max-width:1200px;width:100%;height:100%;display:flex;align-items:center;justify-content:center}
#viewer img,#viewer video{max-width:100%;max-height:100%;border-radius:8px}
#viewer .close{position:absolute;right:12px;top:12px;background:rgba(255,255,255,0.06);color:white;border:none;padding:8px;border-radius:8px;cursor:pointer}

/* footer */
footer.sitefoot{width:100%;padding:18px 12px;background:linear-gradient(180deg,rgba(255,255,255,0.98),rgba(255,255,255,0.95));text-align:center;margin-top:22px}
[data-theme='dark'] footer.sitefoot{background:linear-gradient(180deg,rgba(6,10,14,0.94),rgba(6,10,14,0.9))}

/* creator popup */
.creator-popup{position:fixed;inset:0;background:rgba(0,0,0,0.5);backdrop-filter:blur(10px);display:flex;align-items:center;justify-content:center;z-index:1500}
.creator-box{background:var(--card);padding:22px;border-radius:14px;max-width:420px;width:92%;text-align:center;box-shadow:var(--shadow)}
.creator-box h3{margin:0 0 8px 0}
.wa-btn{display:inline-block;margin-top:10px;padding:10px 14px;border-radius:10px;background:#25D366;color:white;font-weight:800;text-decoration:none}

/* audio control */
.audio-control{position:fixed;right:14px;bottom:14px;width:56px;height:56px;border-radius:50%;background:var(--card);display:flex;align-items:center;justify-content:center;box-shadow:0 12px 36px rgba(2,6,23,0.12);cursor:pointer;z-index:1500}
</style>
</head>
<body data-theme="light">

  <!-- INTRO -->
  <div id="intro" role="status" aria-live="polite">
    <div class="intro-card">
      <div class="intro-logo"><img src="https://files.catbox.moe/5vmpv6.jpg" alt="VNS logo"></div>
      <div class="intro-text">Loading Vijayaba N.S. ‚Äî Hungama...</div>
      <div class="progress" style="margin-top:14px"><div id="introBar" class="progress-bar"></div></div>
    </div>
  </div>

  <!-- HEADER -->
  <header class="sitebar" role="banner" aria-label="Main header">
    <div class="header-inner">
      <div class="brand" style="margin-left:8px">
        <div class="logo-small"><img src="https://files.catbox.moe/5vmpv6.jpg" alt="VNS logo"></div>
        <div>
          <h1>VIJAYABA N.S. HUNGAMA</h1>
          <p>Official site ‚Äî Grades 1 ‚Äì 13</p>
        </div>
      </div>

      <div class="top-actions" style="margin-right:8px">
        <div id="themeToggle" class="theme-toggle" title="Toggle theme" aria-label="Toggle theme">üåó</div>

        <div id="menuIcon" class="menu-icon" title="Menu" aria-haspopup="true" aria-expanded="false">
          <div class="lines"><span></span><span></span><span></span></div>
        </div>

        <nav id="menuPanel" class="menu-panel" aria-hidden="true">
          <a id="creatorBtn" href="#">üé® Creator</a>
          <a id="shareBtn" href="#">üîó Share</a>
          <a id="helpBtn" href="#">üõ†Ô∏è Help</a>
        </nav>
      </div>
    </div>
  </header>

  <!-- MAIN -->
  <main>
    <section class="hero" aria-label="Hero">
      <div class="hero-left">
        <div class="headline">VIJAYABA ‚Äî where learners become leaders</div>
        <div class="sub">‚ú® VIJAYABA NATIONAL SCHOOL, situated in Hungama is one of the magnificent schools in Sri Lanka. With the 86 years long period of history. It has been able to gain many achievements of excellence both in the academic and non academic fields. VIJAYABA NATIONAL SCHOOL provides education to students from Grade 1 to 13 in Sinhala & English Mediums with motto of " ‡∑Ä‡∑í‡∂Ø‡∑ä‚Äç‡∂∫‡∑è ‡∂Ø‡∂Ø‡∑è‡∂≠‡∑í ‡∑Ä‡∑í‡∂±‡∂∫‡∂Ç"üéìü´Ç.</div>

        <div class="stats" role="region" aria-label="School statistics">
          <div class="stat"><div class="label">Grades</div><div class="value">üéì1 ‚Äì 13</div></div>
          <div class="stat"><div class="label">Students</div><div class="value">üë§3000+</div></div>
          <div class="stat"><div class="label">Events</div><div class="value">üî¥Live</div></div>
        </div>

        <div style="margin-top:12px">
          <button id="toggleGrades" style="padding:8px 12px;border-radius:10px;border:1px solid rgba(0,0,0,0.06);background:var(--card);cursor:pointer">üìä Show / Hide per-grade counts</button>
          <div id="gradeBox" class="details" style="display:none;margin-top:10px"></div>
        </div>

      </div>

      <aside class="floating" aria-hidden="false">
        <div class="logo" title="VNS logo"><img src="https://files.catbox.moe/5vmpv6.jpg" alt="VNS logo"></div>
        <div style="font-weight:800;text-align:center">VIJAYABA N.S. HUNGAMA</div>
        <div style="color:var(--muted);font-size:13px;text-align:center">Move mouse to tilt (desktop). Tap for details.</div>
      </aside>
    </section>

    <section class="details" aria-label="About the school">
      <div style="font-weight:800;margin-bottom:8px">üìç About School</div>
      <div class="row"><div class="label">üè´ Name</div><div>Vijayaba National School, Hungama</div></div>
      <div class="row"><div class="label">üì¨ Address</div><div>Vijayaba National School, Hungama, Sri Lanka, 82120</div></div>
      <div class="row"><div class="label">üó∫Ô∏è Province</div><div>Southern Province</div></div>
      <div class="row"><div class="label">üèô District / City</div><div>Hambanthota / Hungama</div></div>
      <div class="row"><div class="label">üî¢ Zip</div><div>82120</div></div>

      <div class="map" aria-hidden="false" style="margin-top:12px">
        <iframe
          src="https://maps.google.com/maps?q=Vijayaba%20National%20School%20Hungama%2082120&t=&z=15&ie=UTF8&iwloc=&output=embed"
          width="100%" height="320" style="border:0;" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
      </div>
    </section>

    <section aria-label="Videos and updates">
      <h2 style="margin-top:18px;font-size:20px">üé¨ Videos & Updates</h2>
      <div class="media-grid" id="mediaGrid" role="list">
        <!-- rendered by JS -->
      </div>
    </section>

    <section class="details" style="margin-top:18px">
      <h3 style="margin:0 0 8px 0">üìû Contact Us</h3>
      <div class="row"><div class="label">‚úâÔ∏è Email</div><div><a href="mailto:vijayabanationalschool@gmail.com">vijayabanationalschool@gmail.com</a></div></div>
      <div class="row"><div class="label">üì≤ Phone</div><div><strong>+94 47 2226036</strong></div></div>
    </section>
  </main>

  <!-- footer -->
  <footer class="sitefoot" role="contentinfo">
    ¬© <span id="yearEl"></span> VIJAYABA N.S. HUNGAMA ‚Äî All rights reserved
  </footer>

  <!-- Creator Modal -->
  <div id="creatorModal" class="creator-popup" style="display:none">
    <div class="creator-box">
      <h3>Hey School Web Creator ‚ù§Ô∏è‚Äçü©πü´∂</h3>
      <p style="color:var(--muted)">Need help editing or uploading media? Chat with the site creator.</p>
      <a id="waLink" class="wa-btn" href="https://wa.me/94782932976" target="_blank" rel="noreferrer">üí¨ Chat on WhatsApp</a>
      <div style="margin-top:12px"><button id="closeCreator" style="padding:8px 12px;border-radius:8px;border:1px solid rgba(0,0,0,0.06);background:transparent;cursor:pointer">Close</button></div>
    </div>
  </div>

  <!-- Viewer -->
  <div id="viewer" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,0.9);z-index:1600;align-items:center;justify-content:center;padding:14px">
    <div class="inner" style="position:relative;max-width:1200px;width:100%;height:100%;display:flex;align-items:center;justify-content:center">
      <button id="viewerClose" style="position:absolute;right:12px;top:12px;background:rgba(255,255,255,0.06);color:white;border:none;padding:8px;border-radius:8px;cursor:pointer">‚úï</button>
      <div id="viewerContent"></div>
    </div>
  </div>

  <!-- audio control -->
  <div id="audioControl" class="audio-control" title="Pause/Play">‚èØ</div>
  <audio id="bgm" src="https://files.catbox.moe/hfxrts.mp3" loop preload="auto"></audio>

<script>
/* ====== Data ====== */
// sample media: replace with your catbox links
const MEDIA = [
  { title: "‚ú® Sudhakshinabimana", caption: "‡∑É‡∑î‡∂Ø‡∂ö‡∑ä‡∑Å‡∑í‡∂´‡∑è‡∂∑‡∑í‡∂∏‡∑è‡∂´‡∑è|‡∂Ø‡∂ö‡∑î‡∂´‡∑î ‡∑É‡∑í‡∂¥‡∑ä‡∂ö‡∑ô‡∂≠ ‡∂ª‡∂±‡∑ä ‡∂Ö‡∑É‡∑ä‡∑Ä‡∑ê‡∂±‡∑ä‡∂±‡∂ö ‡∂Ö‡∂∑‡∑í‡∂∏‡∂±‡∑ä ‡∂á‡∂ú‡∂∫‡∑î‡∂∏ - 2025", media: ["https://files.catbox.moe/w18fik.jpg"], type: "image" },
  { title: "‚öæVolleyball Sports Meet 2025", caption: "Rupawahini", media: ["https://files.catbox.moe/qpmfhq.mp4"], type: "video" },
  { title: "ü´ÖTeachers Day 2025", caption: "Sing ü§°", media: ["https://files.catbox.moe/xd4j4n.mp4"], type: "image" },
];

/* basic setup */
document.getElementById('yearEl').textContent = new Date().getFullYear();

/* intro progress */
const intro = document.getElementById('intro');
const introBar = document.getElementById('introBar');
let p=0;
const sim = setInterval(()=>{ p += Math.random()*10 + 6; if(p>100) p=100; introBar.style.width = p + '%'; if(p===100){ clearInterval(sim); setTimeout(()=>{ intro.style.opacity='0'; intro.style.pointerEvents='none'; setTimeout(()=>{ intro.remove(); },600); },700); } }, 200);
/* fallback remove */
setTimeout(()=>{ if(intro && intro.parentNode) intro.parentNode.remove(); },12000);

/* theme toggle */
const themeToggle = document.getElementById('themeToggle');
function setTheme(t){ document.documentElement.setAttribute('data-theme', t); localStorage.setItem('vns_theme', t); }
const stored = localStorage.getItem('vns_theme') || 'light';
setTheme(stored);
themeToggle.addEventListener('click', ()=>{ const cur = document.documentElement.getAttribute('data-theme')==='dark' ? 'dark' : 'light'; setTheme(cur==='dark' ? 'light' : 'dark'); });

/* menu dropdown */
const menuIcon = document.getElementById('menuIcon');
const menuPanel = document.getElementById('menuPanel');
menuIcon.addEventListener('click', (e)=>{ e.stopPropagation(); menuPanel.style.display = menuPanel.style.display === 'flex' ? 'none' : 'flex'; menuPanel.style.flexDirection='column'; menuIcon.setAttribute('aria-expanded', menuPanel.style.display === 'flex'); });
document.addEventListener('click', ()=> menuPanel.style.display='none');

/* menu actions */
document.getElementById('creatorBtn').addEventListener('click', (e)=>{ e.preventDefault(); menuPanel.style.display='none'; document.getElementById('creatorModal').style.display='flex'; });
document.getElementById('shareBtn').addEventListener('click', (e)=>{ e.preventDefault(); menuPanel.style.display='none'; navigator.clipboard.writeText(window.location.href).then(()=> alert('Link copied ‚úÖ')).catch(()=> prompt('Copy link', window.location.href)); });
document.getElementById('helpBtn').addEventListener('click', (e)=>{ e.preventDefault(); menuPanel.style.display='none'; const to='vijayabanationalschool@gmail.com', sub=encodeURIComponent('Help with School Website'), body=encodeURIComponent('*Hey School Web creator*\\n\\nPlease assist me...'); window.open(`https://mail.google.com/mail/?view=cm&fs=1&to=${to}&su=${sub}&body=${body}`,'_blank'); });

/* close creator modal */
document.getElementById('closeCreator').addEventListener('click', ()=>{ document.getElementById('creatorModal').style.display='none'; });

/* grades */
const G = {1:230,2:240,3:245,4:240,5:245,6:240,7:250,8:250,9:245,10:240,11:230,12:180,13:165};
const gradeBox = document.getElementById('gradeBox');
function renderGrades(){ gradeBox.innerHTML=''; for(let i=1;i<=13;i++){ const r=document.createElement('div'); r.style.display='flex'; r.style.justifyContent='space-between'; r.style.padding='6px 0'; r.innerHTML = `<div>üéì Grade ${i}</div><div>${G[i]||0}</div>`; gradeBox.appendChild(r);} }
renderGrades();
document.getElementById('toggleGrades').addEventListener('click', ()=> gradeBox.style.display = gradeBox.style.display === 'block' ? 'none' : 'block');

/* media rendering */
const mediaGrid = document.getElementById('mediaGrid');
function renderMedia(){
  mediaGrid.innerHTML = '';
  MEDIA.forEach(item=>{
    const card = document.createElement('article'); card.className='media-card';
    const src = (item.media && item.media[0]) ? item.media[0] : '';
    if(item.type === 'video' || /\.mp4|\.webm|\.ogg$/i.test(src)){
      const v = document.createElement('video'); v.src = src; v.muted = true; v.loop = true; v.autoplay = true; v.playsInline = true; v.preload='metadata';
      v.style.cursor='pointer'; v.addEventListener('click', ()=> openViewer(src));
      card.appendChild(v);
    } else {
      const img = document.createElement('img'); img.src = src || ''; img.alt = item.title || ''; img.style.cursor='pointer';
      img.addEventListener('click', ()=> openViewer(src)); card.appendChild(img);
    }
    const cap = document.createElement('div'); cap.className='media-caption'; cap.textContent = (item.title || '') + (item.caption ? ' ‚Äî '+item.caption : '');
    card.appendChild(cap); mediaGrid.appendChild(card);
  });
}
renderMedia();

/* viewer */
const viewer = document.getElementById('viewer');
const viewerContent = document.getElementById('viewerContent') || (()=>{
  const v=document.createElement('div'); v.id='viewerContent'; document.querySelector('#viewer .inner').appendChild(v); return v;
})();
const viewerClose = document.getElementById('viewerClose'); if(viewerClose) viewerClose.addEventListener('click', ()=>{ viewer.style.display='none'; viewerContent.innerHTML=''; });
function openViewer(url){
  viewer.style.display='flex'; viewerContent.innerHTML='';
  const low = String(url).toLowerCase();
  if(low.endsWith('.mp4')||low.endsWith('.webm')||low.endsWith('.ogg')){
    const v=document.createElement('video'); v.src=url; v.controls=true; v.autoplay=true; v.playsInline=true; v.style.maxHeight='90vh'; v.style.maxWidth='90vw'; viewerContent.appendChild(v);
  } else {
    const img=document.createElement('img'); img.src=url; img.style.maxHeight='90vh'; img.style.maxWidth='90vw'; viewerContent.appendChild(img);
  }
}

/* audio */
const bgm = document.getElementById('bgm'); const audioControl = document.getElementById('audioControl');
bgm.volume = 0.28; bgm.muted = true; bgm.play().catch(()=>{});
function enableAudioOnce(){ bgm.muted = false; bgm.play().catch(()=>{}); window.removeEventListener('click', enableAudioOnce); }
window.addEventListener('click', enableAudioOnce, { once:true });
audioControl.addEventListener('click', ()=>{ if(bgm.paused){ bgm.play(); audioControl.textContent='‚è∏' } else { bgm.pause(); audioControl.textContent='‚èØ' } });

/* safety */
setTimeout(()=>{ const i=document.getElementById('intro'); if(i && i.parentNode) i.parentNode.removeChild(i); },12000);
</script>
</body>
  </html>
